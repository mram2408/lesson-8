<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title><%= title %></title>
    <link rel="stylesheet" href="/stylesheets/style.css" />
    <script defer src="/javascripts/RequestManager.js"></script>
    <script>
      function onDeleteCar(id) {
        console.log(id);

        RequestManager.deleteRequest("/autopark/deleteCar", { id: id });
      }
    </script>
    <style>
      .info {
        background-color: rgb(0, 145, 255);
      }
    </style>
  </head>
  <body>
    <!-- –®–∞–ø–∫–∞ -->
    <header>
      <h1><%= title %></h1>
      <nav>
        <a href="/">–ì–æ–ª–æ–≤–Ω–∞</a>
        <a href="/about">–ü—Ä–æ –Ω–∞—Å</a>
        <a href="/autopark"><strong>–î–æ –∞–≤—Ç–æ–ø–∞—Ä–∫—É</strong></a>
      </nav>
    </header>
    <!-- –û—Å–Ω–æ–≤–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç –∑ –∫–∞—Ä—Ç–∫–∞–º–∏ -->
    <main>
      <h2>–î–æ—Å—Ç—É–ø–Ω—ñ –∞–≤—Ç–æ–º–æ–±—ñ–ª—ñ</h2>
      <a href="/autopark/add">
        <button>‚äï –î–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π –∞–≤—Ç–æ–º–æ–±—ñ–ª—å</button>
      </a>
      <a href="/autopark/owners/add">
        <button>‚äï –î–æ–¥–∞—Ç–∏ –Ω–æ–≤–æ–≥–æ –≤–ª–∞—Å–Ω–∏–∫–∞</button>
      </a>
      <a href="/autopark/owners">
        <button class="info">üõà –í–ª–∞—Å–Ω–∏–∫–∏</button>
      </a>
      <div class="car-cards">
        <% carsList.forEach(car => { %>
        <div class="car-card">
          <img src="<%= car.imgSrc %>" />
          <h3><%= car.make %> <%= car.model %></h3>
          <div class="car-year">–†—ñ–∫ –≤–∏–ø—É—Å–∫—É: <%= car.year %></div>
          <div class="number-plate">
            <img src="images/image.png" />
            <div><%= car.numberPlate %></div>
          </div>
          <div><%= car.owner?.name || '–ù–µ–º–∞—î –≤–ª–∞—Å–Ω–∏–∫–∞' %></div>
          <div><%= car.owner?.address %></div>
          <div class="car-card-buttons">
            <a href="/autopark/edit/<%= car.id %>"
              ><button>‚úé –†–µ–¥–∞–≥—É–≤–∞—Ç–∏</button></a
            >
            <button onclick="onDeleteCar('<%= car.id %>')" class="danger">
              üóë –í–∏–¥–∞–ª–∏—Ç–∏
            </button>
          </div>
        </div>
        <% }) %>
      </div>
    </main>

    <!-- –§—É—Ç–µ—Ä -->
    <footer>
      <p>&copy; 2024 –ê–≤—Ç–æ–ø–∞—Ä–∫ "–ê–≤—Ç–æ–õ—é–∫—Å". –í—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Ö–∏—â–µ–Ω—ñ.</p>
    </footer>
  </body>
</html>
