<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title><%= title %></title>
    <link rel="stylesheet" href="/stylesheets/style.css" />
    <script defer src="/javascripts/RequestManager.js"></script>
    <script>
      function onDeleteOwner(id) {
        console.log(id);

        RequestManager.deleteRequest("/autopark/owners/delete", { id: id });
      }
    </script>
    <style>
      .table {
        border: 1px solid black;
      }
      .table-row {
        display: grid;
        align-items: center;
        gap: 10px;
        grid-template-columns: 1fr 1fr 1fr 1fr;
        padding: 10px;
        border-bottom: 1px solid black;
      }
    </style>
  </head>
  <body>
    <!-- –®–∞–ø–∫–∞ -->
    <header>
      <h1><%= title %></h1>
      <nav>
        <a href="/">–ì–æ–ª–æ–≤–Ω–∞</a>
        <a href="/about">–ü—Ä–æ –Ω–∞—Å</a>
        <a href="/autopark"><strong>–î–æ –∞–≤—Ç–æ–ø–∞—Ä–∫—É</strong></a>
      </nav>
    </header>
    <!-- –û—Å–Ω–æ–≤–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç –∑ –∫–∞—Ä—Ç–∫–∞–º–∏ -->
    <main>
      <h2>–í–ª–∞—Å–Ω–∏–∫–∏</h2>
      <a href="/autopark/owners/add"><button>‚äï –î–æ–¥–∞—Ç–∏ –≤–ª–∞—Å–Ω–∏–∫–∞</button></a>
      <div class="table" style="margin-top: 10px">
        <% ownersList.forEach(owner => { %>
        <div class="table-row">
          <div><%= owner.name %></div>
          <div><%= owner.address %></div>
          <a href="/autopark/owners/edit/<%= owner.id %>"
            ><button>‚úé –ó–º—ñ–Ω–∏—Ç–∏</button></a
          >
          <button onclick="onDeleteOwner('<%= owner.id %>')" class="danger">
            üóë –í–∏–¥–∞–ª–∏—Ç–∏
          </button>
        </div>
        <% }) %>
      </div>
    </main>

    <!-- –§—É—Ç–µ—Ä -->
    <footer>
      <p>&copy; 2024 –ê–≤—Ç–æ–ø–∞—Ä–∫ "–ê–≤—Ç–æ–õ—é–∫—Å". –í—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Ö–∏—â–µ–Ω—ñ.</p>
    </footer>
  </body>
</html>
